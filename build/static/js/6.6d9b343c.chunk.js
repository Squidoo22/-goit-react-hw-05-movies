(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[6],{54:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return f}));var n=a(52),r=a.n(n),c=a(53),s=a(57),i=a.n(s);i.a.defaults.baseURL="https://api.themoviedb.org/3/";var o="74a210d9545ac2133ea9f3ec78679de8",u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="trending/movie/day?api_key=".concat(o),e.next=3,i.a.get(t);case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="search/movie?api_key=".concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(t),e.next=3,i.a.get(a);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="movie/".concat(t,"?api_key=").concat(o,"&language=en-US"),e.next=3,i.a.get(a);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"),e.next=3,i.a.get(a);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="movie/".concat(t,"/reviews?api_key=").concat(o,"&language=en-US"),e.next=3,i.a.get(a);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},55:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s}));var n=a(59),r=a.n(n),c=function(e){return r()(e,{lower:!0})},s=function(e){return e.match(/[a-z0-9]+$/)[0]}},90:function(e,t,a){e.exports={moviesPage:"MoviesPage_moviesPage__1keIt",mainContainer:"MoviesPage_mainContainer__24Xru",searchForm:"MoviesPage_searchForm__3_GqO",searchForm__input:"MoviesPage_searchForm__input__3rTMD",searchForm__button:"MoviesPage_searchForm__button__3C7x1",moviesList:"MoviesPage_moviesList__2QzHZ",moviesList__item:"MoviesPage_moviesList__item__32b8N",moviesList__movieTitle:"MoviesPage_moviesList__movieTitle__3FMFA"}},97:function(e,t,a){"use strict";a.r(t);var n=a(95),r=a(52),c=a.n(r),s=a(53),i=a(56),o=a(0),u=a(3),p=a(7),v=a(89),m=a.n(v),f=a(54),_=a(55),h=a(90),b=a.n(h),l=a(1);t.default=function(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],v=Object(o.useState)([]),h=Object(i.a)(v,2),d=h[0],g=h[1],j=Object(u.g)(),O=Object(u.f)();Object(o.useEffect)((function(){var e=new URLSearchParams(j.search).get("query");if(e){var t=function(){var t=Object(s.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.e)(e);case 2:a=t.sent,n=a.results,g(n),r("");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[j.search]);var x=function(){var e=Object(s.a)(c.a.mark((function e(t){var s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.trim()){e.next=10;break}return e.next=4,Object(f.e)(a);case 4:s=e.sent,i=s.results,g(i),r(""),0===i.length&&m.a.Notify.warning("No movies found! Please change your request and try again"),O.push(Object(n.a)(Object(n.a)({},j),{},{search:"query=".concat(a)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("section",{className:b.a.moviesPage,children:[Object(l.jsxs)("div",{className:b.a.mainContainer,children:[Object(l.jsxs)("form",{onSubmit:x,className:b.a.searchForm,children:[Object(l.jsx)("input",{type:"text",placeholder:"Find movie",value:a,onChange:function(e){return r(e.target.value)},className:b.a.searchForm__input}),Object(l.jsx)("button",{type:"submit",className:b.a.searchForm__button,children:"Search"})]}),d.length>0&&Object(l.jsx)("ul",{className:b.a.moviesList,children:d.map((function(e){var t=e.id,a=e.title,n=e.poster_path;return Object(l.jsx)("li",{className:b.a.moviesList__item,children:Object(l.jsxs)(p.b,{to:{pathname:"/movies/".concat(Object(_.b)("".concat(a," ").concat(t))),state:{from:{location:j,label:"Back to Movies"}}},children:[Object(l.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w300".concat(n):"https://pomogaetsrazu.ru/images/offers/2829219234.jpg",alt:a}),Object(l.jsx)("p",{className:b.a.moviesList__movieTitle,children:a})]})},t)}))})]}),Object(l.jsx)("div",{})]})}}}]);
//# sourceMappingURL=6.6d9b343c.chunk.js.map