{"version":3,"sources":["services/fetchApi.js","services/slug.js","pages/HomePage/HomePage.module.css","pages/HomePage/HomePage.jsx"],"names":["axios","defaults","baseURL","API_KEY","fetchTrendingMovies","a","queryString","get","movies","data","searchMovies","stringToSearch","getMovieDetails","movieId","movie","getMovieCast","getReviews","makeSlug","string","slugify","lower","getIdFromSlug","slug","match","module","exports","Home","useState","setMovies","location","useLocation","useEffect","getMovies","results","className","s","homePage","mainContainer","title","moviesList","map","id","poster_path","moviesList__item","to","pathname","state","from","label","src","alt","moviesList__movieTitle"],"mappings":"iWAEAA,IAAMC,SAASC,QAAU,gCACzB,IAAMC,EAAU,mCAEHC,EAAmB,uCAAG,gCAAAC,EAAA,6DAC3BC,EAD2B,qCACiBH,GADjB,SAGFH,IAAMO,IAAID,GAHR,uBAGnBE,EAHmB,EAGzBC,KAHyB,kBAK1BD,GAL0B,2CAAH,qDAQnBE,EAAY,uCAAG,WAAOC,GAAP,mBAAAN,EAAA,6DACpBC,EADoB,+BACkBH,EADlB,4DAC6EQ,GAD7E,SAGKX,IAAMO,IAAID,GAHf,uBAGZE,EAHY,EAGlBC,KAHkB,kBAKnBD,GALmB,2CAAH,sDAQZI,EAAe,uCAAG,WAAOC,GAAP,mBAAAR,EAAA,6DACvBC,EADuB,gBACAO,EADA,oBACmBV,EADnB,4BAGCH,IAAMO,IAAID,GAHX,uBAGfQ,EAHe,EAGrBL,KAHqB,kBAKtBK,GALsB,2CAAH,sDAQfC,EAAY,uCAAG,WAAOF,GAAP,mBAAAR,EAAA,6DACpBC,EADoB,gBACGO,EADH,4BAC8BV,EAD9B,4BAGHH,IAAMO,IAAID,GAHP,uBAGlBG,EAHkB,EAGlBA,KAHkB,kBAKnBA,GALmB,2CAAH,sDAQZO,EAAU,uCAAG,WAAOH,GAAP,mBAAAR,EAAA,6DAClBC,EADkB,gBACKO,EADL,4BACgCV,EADhC,4BAGDH,IAAMO,IAAID,GAHT,uBAGhBG,EAHgB,EAGhBA,KAHgB,kBAKjBA,GALiB,2CAAH,uD,gCCrCvB,yFAEaQ,EAAW,SAACC,GAAD,OACtBC,IAAQD,EAAQ,CACdE,OAAO,KAGEC,EAAgB,SAACC,GAAD,OAAUA,EAAKC,MAAM,cAAc,K,mBCNhEC,EAAOC,QAAU,CAAC,SAAW,2BAA2B,cAAgB,gCAAgC,MAAQ,wBAAwB,WAAa,6BAA6B,iBAAmB,mCAAmC,uBAAyB,2C,yICyDlPC,UApDF,WACX,MAA4BC,mBAAS,IAArC,mBAAOnB,EAAP,KAAeoB,EAAf,KAEMC,EAAWC,cAYjB,OAVAC,qBAAU,WACR,IAAMC,EAAS,uCAAG,8BAAA3B,EAAA,sEACUD,cADV,gBACR6B,EADQ,EACRA,QAERL,EAAUK,GAHM,2CAAH,qDAMfD,MACC,IAGD,yBAASE,UAAWC,IAAEC,SAAtB,SACE,sBAAKF,UAAWC,IAAEE,cAAlB,UACE,oBAAIH,UAAWC,IAAEG,MAAjB,4BAEA,oBAAIJ,UAAWC,IAAEI,WAAjB,SACG/B,EAAOgC,KAAI,gBAAGC,EAAH,EAAGA,GAAIH,EAAP,EAAOA,MAAOI,EAAd,EAAcA,YAAd,OACV,oBAAIR,UAAWC,IAAEQ,iBAAjB,SACE,eAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAa5B,YAAS,GAAD,OAAIqB,EAAJ,YAAaG,KAC1CK,MAAO,CACLC,KAAM,CACJlB,WACAmB,MAAO,kBANf,UAWE,qBACEC,IACEP,EAAW,yCAC2BA,GAClC,wDAENQ,IAAKZ,IAEP,mBAAGJ,UAAWC,IAAEgB,uBAAhB,SAAyCb,QApBLG","file":"static/js/5.70f50dd3.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3/\";\nconst API_KEY = \"74a210d9545ac2133ea9f3ec78679de8\";\n\nexport const fetchTrendingMovies = async () => {\n  const queryString = `trending/movie/day?api_key=${API_KEY}`;\n\n  const { data: movies } = await axios.get(queryString);\n\n  return movies;\n};\n\nexport const searchMovies = async (stringToSearch) => {\n  const queryString = `search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n\n  const { data: movies } = await axios.get(queryString);\n\n  return movies;\n};\n\nexport const getMovieDetails = async (movieId) => {\n  const queryString = `movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n\n  const { data: movie } = await axios.get(queryString);\n\n  return movie;\n};\n\nexport const getMovieCast = async (movieId) => {\n  const queryString = `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n\n  const { data } = await axios.get(queryString);\n\n  return data;\n};\n\nexport const getReviews = async (movieId) => {\n  const queryString = `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`;\n\n  const { data } = await axios.get(queryString);\n\n  return data;\n};\n","import slugify from \"slugify\";\n\nexport const makeSlug = (string) =>\n  slugify(string, {\n    lower: true,\n  });\n\nexport const getIdFromSlug = (slug) => slug.match(/[a-z0-9]+$/)[0];\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"HomePage_homePage__2QDk0\",\"mainContainer\":\"HomePage_mainContainer__3M6du\",\"title\":\"HomePage_title__2JXHq\",\"moviesList\":\"HomePage_moviesList__2qCum\",\"moviesList__item\":\"HomePage_moviesList__item__2h0OR\",\"moviesList__movieTitle\":\"HomePage_moviesList__movieTitle__2AbEA\"};","import React, { useEffect, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { fetchTrendingMovies } from \"../../services/fetchApi\";\nimport { makeSlug } from \"../../services/slug\";\nimport s from \"./HomePage.module.css\";\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const getMovies = async () => {\n      const { results } = await fetchTrendingMovies();\n\n      setMovies(results);\n    };\n\n    getMovies();\n  }, []);\n\n  return (\n    <section className={s.homePage}>\n      <div className={s.mainContainer}>\n        <h2 className={s.title}>Trending Today</h2>\n\n        <ul className={s.moviesList}>\n          {movies.map(({ id, title, poster_path }) => (\n            <li className={s.moviesList__item} key={id}>\n              <Link\n                to={{\n                  pathname: `/movies/${makeSlug(`${title} ${id}`)}`,\n                  state: {\n                    from: {\n                      location,\n                      label: \"Back to Home\",\n                    },\n                  },\n                }}\n              >\n                <img\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w300${poster_path}`\n                      : \"https://pomogaetsrazu.ru/images/offers/2829219234.jpg\"\n                  }\n                  alt={title}\n                />\n                <p className={s.moviesList__movieTitle}>{title}</p>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </section>\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}