(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{54:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return v})),a.d(t,"d",(function(){return _}));var n=a(52),i=a.n(n),r=a(53),c=a(57),s=a.n(c);s.a.defaults.baseURL="https://api.themoviedb.org/3/";var o="74a210d9545ac2133ea9f3ec78679de8",u=function(){var e=Object(r.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="trending/movie/day?api_key=".concat(o),e.next=3,s.a.get(t);case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="search/movie?api_key=".concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(t),e.next=3,s.a.get(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="movie/".concat(t,"?api_key=").concat(o,"&language=en-US"),e.next=3,s.a.get(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"),e.next=3,s.a.get(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="movie/".concat(t,"/reviews?api_key=").concat(o,"&language=en-US"),e.next=3,s.a.get(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},55:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(59),i=a.n(n),r=function(e){return i()(e,{lower:!0})},c=function(e){return e.match(/[a-z0-9]+$/)[0]}},91:function(e,t,a){e.exports={castList:"MovieCast_castList__7krq9",castItem:"MovieCast_castItem__1BVFe",itemDescr:"MovieCast_itemDescr__3mNGD",personName:"MovieCast_personName__28bG7",character:"MovieCast_character__3h_CM"}},92:function(e,t,a){e.exports={reviewItem:"MovieReviews_reviewItem__18PhT",reviewText:"MovieReviews_reviewText__abw6b",reviews:"MovieReviews_reviews__hc2bd"}},93:function(e,t,a){e.exports={movieDetialsSection:"MovieDetailsPage_movieDetialsSection__YJ17r",mainContainer:"MovieDetailsPage_mainContainer__3QT7p",movieDetails__button:"MovieDetailsPage_movieDetails__button__2ENQX",movieCard:"MovieDetailsPage_movieCard__1L2w2",posterContainer:"MovieDetailsPage_posterContainer__2egDV",descrContainer:"MovieDetailsPage_descrContainer__oP3NX",movieCard__title:"MovieDetailsPage_movieCard__title__sX1mn",movieCard__text:"MovieDetailsPage_movieCard__text__1Lkqa",additionalInfo:"MovieDetailsPage_additionalInfo__1HNhv",additionalInfo__list:"MovieDetailsPage_additionalInfo__list__3Fp5L",additionalInfo__item:"MovieDetailsPage_additionalInfo__item__1YRL7",additionalInfo__link:"MovieDetailsPage_additionalInfo__link__3-oD4",additionalInfo__activeLink:"MovieDetailsPage_additionalInfo__activeLink__2MXMX"}},99:function(e,t,a){"use strict";a.r(t);var n=a(52),i=a.n(n),r=a(53),c=a(56),s=a(0),o=a(3),u=a(7),l=a(54),d=a(55),v=a(91),_=a.n(v),m=a(1),f=function(e){var t=e.movieId,a=Object(s.useState)(null),n=Object(c.a)(a,2),o=n[0],u=n[1],d=document.querySelector("#cast");return Object(s.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(t);case 2:a=e.sent,n=a.cast,u(n),d&&window.scrollTo({top:d.offsetTop,behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,d]),Object(m.jsx)("div",{children:Object(m.jsx)("ul",{className:_.a.castList,id:"cast",children:o&&o.map((function(e){var t=e.id,a=e.profile_path,n=e.original_name,i=e.character;return Object(m.jsxs)("li",{className:_.a.castItem,children:[Object(m.jsx)("img",{src:a?"https://image.tmdb.org/t/p/w300".concat(a):"https://pomogaetsrazu.ru/images/offers/2829219234.jpg",alt:n}),Object(m.jsxs)("div",{className:_.a.itemDescr,children:[Object(m.jsx)("p",{className:_.a.personName,children:n}),Object(m.jsxs)("p",{className:_.a.character,children:["Character: ",i]})]})]},t)}))})})},j=a(92),p=a.n(j),h=function(e){var t=e.movieId,a=Object(s.useState)(null),n=Object(c.a)(a,2),o=n[0],u=n[1],d=document.querySelector("#reviews");return Object(s.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)(t);case 2:a=e.sent,n=a.results,u(n),d&&window.scrollTo({top:d.offsetTop,behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,d]),Object(m.jsx)("div",{id:"reviews",children:Object(m.jsx)("ul",{children:o&&o.length>0?o.map((function(e){var t=e.id,a=e.author,n=e.content;return Object(m.jsxs)("li",{className:p.a.reviewItem,children:[Object(m.jsxs)("h3",{children:["Author: ",a]}),Object(m.jsx)("p",{className:p.a.reviewText,children:n})]},t)})):Object(m.jsx)("li",{className:p.a.reviewItem,children:"We don't have any reviews for this movie"})})})},b=a(93),x=a.n(b);t.default=function(){var e,t,a,n=Object(s.useState)(null),v=Object(c.a)(n,2),_=v[0],j=v[1],p=Object(o.g)(),b=Object(o.f)(),O=Object(o.h)().slug,w=Object(o.i)().url,g=Object(d.a)(O);Object(s.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)(g);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]);return Object(m.jsx)(m.Fragment,{children:_&&Object(m.jsx)("section",{className:x.a.movieDetialsSection,children:Object(m.jsxs)("div",{className:x.a.mainContainer,children:[Object(m.jsx)("button",{type:"button",onClick:function(){var e,t,a;b.push(null!==(e=null===p||void 0===p||null===(t=p.state)||void 0===t||null===(a=t.from)||void 0===a?void 0:a.location)&&void 0!==e?e:"/movies")},className:x.a.movieDetails__button,children:null!==(e=null===p||void 0===p||null===(t=p.state)||void 0===t||null===(a=t.from)||void 0===a?void 0:a.label)&&void 0!==e?e:"Find another movie"}),Object(m.jsxs)("div",{className:x.a.movieCard,children:[Object(m.jsx)("div",{className:x.a.posterContainer,children:Object(m.jsx)("img",{src:_.poster_path?"https://image.tmdb.org/t/p/w300".concat(_.poster_path):"https://pomogaetsrazu.ru/images/offers/2829219234.jpg",alt:_.title})}),Object(m.jsxs)("div",{className:x.a.descrContainer,children:[Object(m.jsxs)("h2",{className:x.a.movieCard__title,children:[_.title," (",_.release_date.slice(0,4),")"]}),Object(m.jsxs)("p",{className:x.a.movieCard__text,children:["User score: ",_.vote_average]}),Object(m.jsx)("h3",{children:"Overview"}),Object(m.jsx)("p",{className:x.a.movieCard__text,children:_.overview?_.overview:"No overwies yet"}),Object(m.jsx)("h3",{children:"Genres"}),Object(m.jsx)("p",{children:_.genres.map((function(e){return e.name})).join(", ")})]})]}),Object(m.jsxs)("div",{className:x.a.additionalInfo,children:[Object(m.jsx)("h3",{children:"Additional Information"}),Object(m.jsxs)("ul",{className:x.a.additionalInfo__list,children:[Object(m.jsx)("li",{className:x.a.additionalInfo__item,children:Object(m.jsx)(u.c,{className:x.a.additionalInfo__link,activeClassName:x.a.additionalInfo__activeLink,to:{pathname:"".concat(w,"/cast"),state:p.state},children:"Cast"})}),Object(m.jsx)("li",{className:x.a.additionalInfo__item,children:Object(m.jsx)(u.c,{className:x.a.additionalInfo__link,activeClassName:x.a.additionalInfo__activeLink,to:{pathname:"".concat(w,"/reviews"),state:p.state},children:"Reviews"})})]})]}),Object(m.jsx)(o.a,{path:"".concat(w,"/cast"),children:Object(m.jsx)(f,{movieId:g})}),Object(m.jsx)(o.a,{path:"".concat(w,"/reviews"),children:Object(m.jsx)(h,{movieId:g})})]})})})}}}]);
//# sourceMappingURL=4.1ac6757e.chunk.js.map