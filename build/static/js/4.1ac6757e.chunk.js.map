{"version":3,"sources":["services/fetchApi.js","services/slug.js","components/MovieCast/MovieCast.module.css","components/MovieReviews/MovieReviews.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","components/MovieCast/MovieCast.jsx","components/MovieReviews/MovieReviews.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["axios","defaults","baseURL","API_KEY","fetchTrendingMovies","a","queryString","get","movies","data","searchMovies","stringToSearch","getMovieDetails","movieId","movie","getMovieCast","getReviews","makeSlug","string","slugify","lower","getIdFromSlug","slug","match","module","exports","MovieCast","useState","cast","setCast","anchor","document","querySelector","useEffect","getCast","window","scrollTo","top","offsetTop","behavior","className","s","castList","id","map","profile_path","original_name","character","castItem","src","alt","itemDescr","personName","MovieReviews","reviews","setReviews","results","length","author","content","reviewItem","reviewText","MovieDetailsPage","setMovie","location","useLocation","history","useHistory","useParams","url","useRouteMatch","getMovie","currentMovie","movieDetialsSection","mainContainer","type","onClick","push","state","from","movieDetails__button","label","movieCard","posterContainer","poster_path","title","descrContainer","movieCard__title","release_date","slice","movieCard__text","vote_average","overview","genres","genre","name","join","additionalInfo","additionalInfo__list","additionalInfo__item","additionalInfo__link","activeClassName","additionalInfo__activeLink","to","pathname","path"],"mappings":"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","file":"static/js/4.1ac6757e.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3/\";\nconst API_KEY = \"74a210d9545ac2133ea9f3ec78679de8\";\n\nexport const fetchTrendingMovies = async () => {\n  const queryString = `trending/movie/day?api_key=${API_KEY}`;\n\n  const { data: movies } = await axios.get(queryString);\n\n  return movies;\n};\n\nexport const searchMovies = async (stringToSearch) => {\n  const queryString = `search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n\n  const { data: movies } = await axios.get(queryString);\n\n  return movies;\n};\n\nexport const getMovieDetails = async (movieId) => {\n  const queryString = `movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n\n  const { data: movie } = await axios.get(queryString);\n\n  return movie;\n};\n\nexport const getMovieCast = async (movieId) => {\n  const queryString = `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n\n  const { data } = await axios.get(queryString);\n\n  return data;\n};\n\nexport const getReviews = async (movieId) => {\n  const queryString = `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`;\n\n  const { data } = await axios.get(queryString);\n\n  return data;\n};\n","import slugify from \"slugify\";\n\nexport const makeSlug = (string) =>\n  slugify(string, {\n    lower: true,\n  });\n\nexport const getIdFromSlug = (slug) => slug.match(/[a-z0-9]+$/)[0];\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"castList\":\"MovieCast_castList__7krq9\",\"castItem\":\"MovieCast_castItem__1BVFe\",\"itemDescr\":\"MovieCast_itemDescr__3mNGD\",\"personName\":\"MovieCast_personName__28bG7\",\"character\":\"MovieCast_character__3h_CM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewItem\":\"MovieReviews_reviewItem__18PhT\",\"reviewText\":\"MovieReviews_reviewText__abw6b\",\"reviews\":\"MovieReviews_reviews__hc2bd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieDetialsSection\":\"MovieDetailsPage_movieDetialsSection__YJ17r\",\"mainContainer\":\"MovieDetailsPage_mainContainer__3QT7p\",\"movieDetails__button\":\"MovieDetailsPage_movieDetails__button__2ENQX\",\"movieCard\":\"MovieDetailsPage_movieCard__1L2w2\",\"posterContainer\":\"MovieDetailsPage_posterContainer__2egDV\",\"descrContainer\":\"MovieDetailsPage_descrContainer__oP3NX\",\"movieCard__title\":\"MovieDetailsPage_movieCard__title__sX1mn\",\"movieCard__text\":\"MovieDetailsPage_movieCard__text__1Lkqa\",\"additionalInfo\":\"MovieDetailsPage_additionalInfo__1HNhv\",\"additionalInfo__list\":\"MovieDetailsPage_additionalInfo__list__3Fp5L\",\"additionalInfo__item\":\"MovieDetailsPage_additionalInfo__item__1YRL7\",\"additionalInfo__link\":\"MovieDetailsPage_additionalInfo__link__3-oD4\",\"additionalInfo__activeLink\":\"MovieDetailsPage_additionalInfo__activeLink__2MXMX\"};","import React, { useEffect, useState } from \"react\";\nimport { getMovieCast } from \"../../services/fetchApi\";\nimport s from \"./MovieCast.module.css\";\n\nconst MovieCast = ({ movieId }) => {\n  const [cast, setCast] = useState(null);\n\n  const anchor = document.querySelector(\"#cast\");\n\n  useEffect(() => {\n    const getCast = async () => {\n      const { cast } = await getMovieCast(movieId);\n\n      setCast(cast);\n\n      if (anchor) {\n        window.scrollTo({\n          top: anchor.offsetTop,\n          behavior: \"smooth\",\n        });\n      }\n    };\n\n    getCast();\n  }, [movieId, anchor]);\n\n  return (\n    <div>\n      <ul className={s.castList} id=\"cast\">\n        {cast &&\n          cast.map(({ id, profile_path, original_name, character }) => (\n            <li key={id} className={s.castItem}>\n              <img\n                src={\n                  profile_path\n                    ? `https://image.tmdb.org/t/p/w300${profile_path}`\n                    : \"https://pomogaetsrazu.ru/images/offers/2829219234.jpg\"\n                }\n                alt={original_name}\n              />\n              <div className={s.itemDescr}>\n                <p className={s.personName}>{original_name}</p>\n                <p className={s.character}>Character: {character}</p>\n              </div>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MovieCast;\n","import React, { useEffect, useState } from \"react\";\nimport { getReviews } from \"../../services/fetchApi\";\nimport s from \"./MovieReviews.module.css\";\n\nconst MovieReviews = ({ movieId }) => {\n  const [reviews, setReviews] = useState(null);\n\n  const anchor = document.querySelector(\"#reviews\");\n\n  useEffect(() => {\n    const getCast = async () => {\n      const { results } = await getReviews(movieId);\n\n      setReviews(results);\n\n      if (anchor) {\n        window.scrollTo({\n          top: anchor.offsetTop,\n          behavior: \"smooth\",\n        });\n      }\n    };\n\n    getCast();\n  }, [movieId, anchor]);\n\n  return (\n    <div id=\"reviews\">\n      <ul>\n        {reviews && reviews.length > 0 ? (\n          reviews.map(({ id, author, content }) => (\n            <li key={id} className={s.reviewItem}>\n              <h3>Author: {author}</h3>\n              <p className={s.reviewText}>{content}</p>\n            </li>\n          ))\n        ) : (\n          <li className={s.reviewItem}>\n            We don't have any reviews for this movie\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default MovieReviews;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Route,\n  NavLink,\n  useHistory,\n  useLocation,\n  useParams,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport { getMovieDetails } from \"../../services/fetchApi\";\nimport { getIdFromSlug } from \"../../services/slug\";\nimport MovieCast from \"../../components/MovieCast/MovieCast\";\nimport MovieReviews from \"../../components/MovieReviews/MovieReviews\";\nimport s from \"./MovieDetailsPage.module.css\";\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState(null);\n\n  const location = useLocation();\n  const history = useHistory();\n  const { slug } = useParams();\n  const { url } = useRouteMatch();\n\n  const movieId = getIdFromSlug(slug);\n\n  useEffect(() => {\n    const getMovie = async () => {\n      const currentMovie = await getMovieDetails(movieId);\n\n      setMovie(currentMovie);\n    };\n\n    getMovie();\n  }, [movieId]);\n\n  const handleGoBack = () => {\n    history.push(location?.state?.from?.location ?? \"/movies\");\n  };\n\n  return (\n    <>\n      {movie && (\n        <section className={s.movieDetialsSection}>\n          <div className={s.mainContainer}>\n            <button\n              type=\"button\"\n              onClick={handleGoBack}\n              className={s.movieDetails__button}\n            >\n              {location?.state?.from?.label ?? \"Find another movie\"}\n            </button>\n\n            <div className={s.movieCard}>\n              <div className={s.posterContainer}>\n                <img\n                  src={\n                    movie.poster_path\n                      ? `https://image.tmdb.org/t/p/w300${movie.poster_path}`\n                      : \"https://pomogaetsrazu.ru/images/offers/2829219234.jpg\"\n                  }\n                  alt={movie.title}\n                />\n              </div>\n\n              <div className={s.descrContainer}>\n                <h2 className={s.movieCard__title}>\n                  {movie.title} ({movie.release_date.slice(0, 4)})\n                </h2>\n                <p className={s.movieCard__text}>\n                  User score: {movie.vote_average}\n                </p>\n\n                <h3>Overview</h3>\n                <p className={s.movieCard__text}>\n                  {movie.overview ? movie.overview : \"No overwies yet\"}\n                </p>\n\n                <h3>Genres</h3>\n                <p>{movie.genres.map((genre) => genre.name).join(\", \")}</p>\n              </div>\n            </div>\n\n            <div className={s.additionalInfo}>\n              <h3>Additional Information</h3>\n              <ul className={s.additionalInfo__list}>\n                <li className={s.additionalInfo__item}>\n                  <NavLink\n                    className={s.additionalInfo__link}\n                    activeClassName={s.additionalInfo__activeLink}\n                    to={{ pathname: `${url}/cast`, state: location.state }}\n                  >\n                    Cast\n                  </NavLink>\n                </li>\n                <li className={s.additionalInfo__item}>\n                  <NavLink\n                    className={s.additionalInfo__link}\n                    activeClassName={s.additionalInfo__activeLink}\n                    to={{ pathname: `${url}/reviews`, state: location.state }}\n                  >\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n            </div>\n\n            <Route path={`${url}/cast`}>\n              <MovieCast movieId={movieId} />\n            </Route>\n\n            <Route path={`${url}/reviews`}>\n              <MovieReviews movieId={movieId} />\n            </Route>\n          </div>\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n\n// location?.state?.from?.location\n\n// parentPage={location.state}\n"],"sourceRoot":""}